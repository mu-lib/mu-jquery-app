!function(a){function h(){return e.call(arguments)}var b=Function.prototype.bind,c=Object.prototype.toString,d=Array.prototype,e=d.slice,f=d.concat,g=/\s+/;a("mu-jquery-wire/jquery.wire")([],function(){return function(a,b){var c=this,d=c.constructor,f=e.call(arguments,2),g=d.Deferred(function(a){a.resolveWith(c)});return 0===c.length?g:d.when.apply(null,d.map(c,function(i,j){var k=d(i);return d.when(d.isFunction(a)?a.apply(c,[k,j].concat(f)):a).then(function(a){return void 0===a||0===a.length?g:d.when.apply(null,d.map(d.isArray(a)?a:[a],function(a,f){return d.when(b.call(c,k,f,a)).then(function(b){return arguments.length>1?e.call(arguments):b||a})})).then(h)})})).then(h)}}),a("mu-jquery-crank/jquery.crank")(["mu-jquery-wire/jquery.wire"],function(a){return function(b,c){var d=e.call(arguments,2);return a.call(this,b,function(a,b,f){return a.constructor.when(a.triggerHandler(c+"."+f,d)).then(function(a){return arguments.length>1?e.call(arguments):a||f})})}}),a("mu-jquery-loom/create")([],function(){return function(a,c){return new(b.apply(a,[null].concat(c)))}}),a("mu-jquery-loom/jquery.twist")(["mu-jquery-wire/jquery.wire","./create"],function(a,b){function d(a){return!c.test(a)}var c=/@\d+$/;return function(c,f){var h=e.call(arguments,2),i=0,j=b,k=f,l=this.constructor;return l.isFunction(f)||(j=f.create||j,k=f.callback),a.call(this,function(a){return(a.attr(c)||"").split(g).filter(d)},function(a,b,d){var e=this;return l.when(k.call(e,d,b)).then(function(f){return f=j.call(e,f,[a,d=d+"@"+ ++i].concat(h)),a.attr(c,function(a,c){return c=c.split(g),c[b]=d,c.join(" ")}),f})})}}),a("mu-jquery-loom/jquery.weave")(["./jquery.twist","mu-jquery-crank/jquery.crank"],function(a,b){function c(a){return a.ns}return function(){var d=this,f=d.constructor;return a.apply(d,e.call(arguments)).then(function(a){return f.when.apply(null,f.map(a,function(a,d){return a&&b.call(a[0].$element,f.map(a,c),"initialize").then(function(){return a})})).then(h)})}}),a("mu-jquery-loom/jquery.crank")(["mu-jquery-crank/jquery.crank"],function(a){return function(b){return a.apply(this,[function(a){return(a.attr(b)||"").split(g)}].concat(e.call(arguments,1)))}}),a("mu-jquery-loom/jquery.loom")(["./jquery.crank","./jquery.twist","./jquery.weave"],function(a,b,c){function d(a){return this.find(a).addBack(a)}return function(f){var g=e.call(arguments,1),h=g.slice(0,1);return this.extend({crank:function(){return a.apply(d.call(this,f),h.concat(e.call(arguments)))},twist:function(){return b.apply(d.call(this,f),g.concat(e.call(arguments)))},weave:function(){return c.apply(d.call(this,f),g.concat(e.call(arguments)))}}),this}}),a("mu-create/transform")([],function(){function a(a){return{key:a,value:this[a]}}function b(b){return b.map(a,this)}return function(a){var f,d=c.call(a);if("[object Arguments]"===d)return{key:"[object Array]",value:e.call(a)};if("[object Object]"===d){if(a.hasOwnProperty("key"))return a;if(f=b.call(a,Object.keys(a)),f.length)return f}return{key:d,value:a}}}),a("mu-create/process")([],function(){return function(){var a=this,b=f.apply([],arguments);return function(c){var d=!1,f=e.call(arguments,1);return b.reduce(function(b,c){var e=d?b:c.apply(a,[b].concat(f));return void 0!==e&&(e===!1?d=!0:b=e),b},c)}}}),a("mu-create/create")(["./transform","./process"],function(a,b){function j(a){return!!a}function k(a,b){return b[i]=h++,a}function l(a,b){return delete b[i],a}function m(a){var b=this,c=a[i];return!b.hasOwnProperty(c)&&(b[c]=a)}var g=this,h=0,i="blueprint-"+h++;return function h(){function n(){var p,h=this===g?{}:this,o=e.call(arguments);return o=f.apply(d,o).filter(j,h),o=o.reduce(k,o),o=o.filter(m,{}),o=o.reduce(l,o),o=o.map(h.transform||a,h),o=p=f.apply(d,o).filter(j,h),o=o.reduce(b.apply(h,i),function(){var b=this;(this.constructor.constructors||[]).reduce(function(a,d){var e=d.apply(b,a);switch(c.call(e)){case"[object String]":case"[object Object]":case"[object Number]":case"[object Boolean]":e=[e];break;default:e=e&&e.length?e:a}return e},arguments)}),o.concat=function(){var a=f.apply(p,arguments);return a=a.reduce(k,a),a=a.filter(m,{}),a=a.reduce(l,a)},o.extend=function(){return n.apply(this,o.concat.apply(this,arguments))},o}var i=e.call(arguments);return n.concat=function(){var a=f.apply(i,arguments);return a=a.reduce(k,a),a=a.filter(m,{}),a=a.reduce(l,a)},n.extend=function(){return h.apply(this,n.concat.apply(this,arguments))},n}}),a("mu-create/constructor")([],function(){return function(a,b){var c=b.key;if("[object Function]"===c)return(a.constructors=a.constructors||[]).push(b.value),!1}}),a("mu-create/prototype")([],function(){return function(a,b){var d=b.value;"prototype"===b.key?a.prototype="[object Function]"===c.call(d)?d.call(this,a):d:a.prototype[b.key]=d}}),a("mu-create/regexp")([],function(){return function(a,b){return function(c,d){var e=d.key.match(a);if(e)return b.apply(this,[c,d].concat(e.slice(1)))}}}),a("mu-jquery-widget/dom")(["mu-create/regexp"],function(a){function d(a){return Object.keys(a).reduce(function(b,c){return b.hasOwnProperty(c)||(b[c]=a[c]),b},this)}var b=/^one?$/;return a(/^(one?|attr|prop)\/(.+?)(?:\((.*)\))?$/,function(a,e,f,g,h){var i="[object Object]"===c.call(e.value)?e.value:b.test(f)?{handler:e.value}:{value:e.value};return i=d.call(i,b.test(f)?{method:f,events:g,selector:h}:{method:f,name:g}),(a.dom=a.dom||[]).push(i),!1})}),a("mu-jquery-widget/create")(["mu-create/create","mu-create/constructor","mu-create/prototype","./dom"],function(a,b,c,d){return a(b,d,c)}),a("mu-jquery-widget/widget")(["./create"],function(a){function b(){return!1}function c(a){return this.split(g).map(function(b){return b+"."+a}).join(" ")}var d={off:function(a,b,d){var e=this;e.$element.off(c.call(a||"",e.ns),b,d)},"on/_remove":function(){var a=this,b=a.$element,c=b.constructor.Callbacks("once");c.fire(b.triggerHandler("finalize."+a.ns,c.add))}};return["on","one"].forEach(function(a){this[a]=function(b,d,e,f){var g=this,h=g.$element;switch(arguments.length){case 3:f=e,e=void 0;break;case 2:f=d,d=void 0,e=void 0;break;case 1:throw new Error("not enough arguments")}h[a](c.call(b,g.ns),d,e,h.constructor.proxy(f,g))}},d),a(function(a,c){var d=this,e=a.constructor,f=e.event.special;f._remove=f._remove||{noBubble:!0,trigger:b,remove:function(a){a.handler(e.Event(a.type,{data:a.data,namespace:a.namespace,target:this}))}},d.ns=c,d.$element=a,e.each(d.constructor.dom,function(b,c){switch(c.method){case"on":case"one":d[c.method](c.events,c.selector,c.data,c.handler);break;case"attr":case"prop":a[c.method](c.name,c.value)}})},d)})}(function(a){var b=a.replace(/\/.+$/,""),c=this;return function(d,e){"function"==typeof define&&define.amd?define(d,e):"object"==typeof module&&module.exports?module.exports=e.apply(c,d.map(require)):c[a]=e.apply(c,d.map(function(a){return c[a.replace(/^\./,b)]||a}))}});