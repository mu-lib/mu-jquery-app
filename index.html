<!DOCTYPE html>
<html lang="en-US">
<head>
<script src="https://code.jquery.com/jquery-3.1.0.min.js"></script>
<script src="https://cdn.rawgit.com/mu-lib/mu-jquery-wire/v1.1.0/jquery.wire.js"></script>
<script src="https://cdn.rawgit.com/mu-lib/mu-jquery-crank/v1.1.1/jquery.crank.js"></script>
<script src="https://rawgit.com/mu-lib/mu-compose/master/jquery.js"></script>
<script src="https://rawgit.com/mu-lib/mu-compose/master/composer.js"></script>
<script src="https://rawgit.com/mu-lib/mu-compose/master/constructor.js"></script>
<script src="https://rawgit.com/mu-lib/mu-compose/master/prototype.js"></script>
<script src="https://rawgit.com/mu-lib/mu-compose/master/dom.js"></script>
<script src="hub.js"></script>
<script src="compose.js"></script>
<script src="construct.js"></script>
<script src="component.js"></script>
<script>
jQuery(function ($) {
  var hub = window["mu-jquery-app/hub"];

  $(document).wire("mu-wire", function(module) {
    return window[module];
  }, hub)
  .then(function () {
    return $($.map(arguments, function(component) {
      return component.$element;
    })).crank("mu-wire", "start");
  })
  .then(function() {
    hub("test").publish(1,2,3);
  }, console.error.bind(console));
});
</script>
</head>
<body>
  <button mu-wire="mu-jquery-app/component">test1</button>
  <button mu-wire="mu-jquery-app/component">test2</button>
</body>
</html>
